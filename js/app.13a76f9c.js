(function(){"use strict";var e={7090:function(e,t,n){var r=n(5130),a=n(6768);const i={class:"container app"},o={key:1,class:"loader__box"},s=(0,a.Lk)("div",{class:"loader"},null,-1),c=[s];function l(e,t,n,r,s,l){const u=(0,a.g2)("Navbar"),m=(0,a.g2)("Main");return(0,a.uX)(),(0,a.CE)("div",i,[(0,a.bF)(u),e.weather?((0,a.uX)(),(0,a.Wv)(m,{key:0})):((0,a.uX)(),(0,a.CE)("div",o,c))])}var u=n.p+"img/logo.f2ddc264.svg",m=n.p+"img/dots.458cfa98.svg";const d={class:"nav"},p=(0,a.Lk)("a",{href:"#!",class:"logo"},[(0,a.Lk)("img",{src:u,alt:"logo"}),(0,a.eW)(),(0,a.Lk)("span",null,"vue weather")],-1),g={class:"nav__search"};function h(e,t,n,i,o,s){return(0,a.uX)(),(0,a.CE)("div",null,[(0,a.Lk)("nav",d,[p,(0,a.Lk)("div",g,[(0,a.Lk)("img",{onClick:t[0]||(t[0]=(...e)=>s.switchTheme&&s.switchTheme(...e)),src:m,alt:"dots"}),(0,a.bo)((0,a.Lk)("input",{type:"text",placeholder:"Введите название города","onUpdate:modelValue":t[1]||(t[1]=e=>o.city=e),onKeydown:t[2]||(t[2]=(0,r.jR)((t=>(e.getWeather(o.city),o.city="")),["enter"]))},null,544),[[r.Jo,o.city]])])])])}var _=n(782),v={data(){return{city:""}},methods:{...(0,_.i0)(["getWeather"]),switchTheme(){const e=localStorage.getItem("theme")||"light",t="dark"===e?"light":"dark";this.setTheme(t),localStorage.setItem("theme",t)},setTheme(e){const t=document.documentElement.style;"dark"===e?(t.setProperty("--bg-primary","#121212"),t.setProperty("--bg-secondary","#1E1E1E"),t.setProperty("--bg-tertiary","#232323"),t.setProperty("--text-primary","#FFFFFF")):(t.setProperty("--bg-primary","white"),t.setProperty("--bg-secondary","white"),t.setProperty("--bg-tertiary","white"),t.setProperty("--text-primary","#000"))}},created(){const e=localStorage.getItem("theme")||"light";this.setTheme(e)}},k=n(1241);const y=(0,k.A)(v,[["render",h]]);var f=y;const w={class:"main"};function b(e,t,n,r,i,o){const s=(0,a.g2)("main-content"),c=(0,a.g2)("main-week");return(0,a.uX)(),(0,a.CE)("div",w,[(0,a.bF)(s),(0,a.bF)(c)])}var L=n(4232),x=n.p+"img/main-bg.eb80c6ef.png",C=n.p+"img/temp.5012f3aa.svg",E=n.p+"img/pressure.dec93a4d.svg",O=n.p+"img/precipitation.b2bec82d.svg",S=n.p+"img/wind.e3f8caaa.svg";const W={class:"main__content"},X={class:"main__content_left"},D={class:"main__content_left-title"},F=(0,a.Lk)("p",{class:"main__content_left-text"},"Сегодня",-1),M={class:"main__content_left-time"},P={class:"main__content_left-city"},T=["src","alt"],j={class:"main__content_right"},I=(0,a.Lk)("img",{class:"main__content_right-bg",src:x,alt:"main-bg"},null,-1),A={class:"main__content_right-item"},$=(0,a.Lk)("div",{class:"main__content_right-item-img"},[(0,a.Lk)("img",{src:C,alt:"temp"})],-1),K=(0,a.Lk)("span",null,"Температура",-1),U={class:"main__content_right-item"},R=(0,a.Lk)("div",{class:"main__content_right-item-img"},[(0,a.Lk)("img",{src:E,alt:"temp"})],-1),H=(0,a.Lk)("span",null,"Давление",-1),N={class:"main__content_right-item"},q=(0,a.Lk)("div",{class:"main__content_right-item-img"},[(0,a.Lk)("img",{src:O,alt:"temp"})],-1),z=(0,a.Lk)("span",null,"Осадки",-1),J={class:"main__content_right-item"},Q=(0,a.Lk)("div",{class:"main__content_right-item-img"},[(0,a.Lk)("img",{src:S,alt:"temp"})],-1),V=(0,a.Lk)("span",null,"Ветер",-1);function Z(e,t,n,r,i,o){return(0,a.uX)(),(0,a.CE)("div",W,[(0,a.Lk)("div",X,[(0,a.Lk)("h2",D,(0,L.v_)(Math.round(e.weather.current.temp))+"°",1),F,(0,a.Lk)("p",M,"Время: "+(0,L.v_)(o.getTime),1),(0,a.Lk)("p",P,"Город: "+(0,L.v_)(e.weather.name),1),(0,a.Lk)("img",{src:o.getImg,alt:o.getDescription,width:"119px",height:"119px"},null,8,T)]),(0,a.Lk)("div",j,[I,(0,a.Lk)("div",A,[$,K,(0,a.Lk)("p",null,(0,L.v_)(e.weather.current.temp)+"° - ощущается как "+(0,L.v_)(e.weather.current.feels_like)+"°",1)]),(0,a.Lk)("div",U,[R,H,(0,a.Lk)("p",null,(0,L.v_)(e.weather.current.pressure)+" мм ртутного столба - нормальное",1)]),(0,a.Lk)("div",N,[q,z,(0,a.Lk)("p",null,(0,L.v_)(e.weather.current.weather[0].description),1)]),(0,a.Lk)("div",J,[Q,V,(0,a.Lk)("p",null,(0,L.v_)(e.weather.current.wind_speed)+" м/с юго-запад - легкий ветер",1)])])])}const B={"дымка":n(2907),"ясно":n(761),"небольшая облачность":n(2907),"пасмурно":n(2907),"облачно с прояснениями":n(715),"небольшой дождь":n(7944),"дождь":n(2016),"переменная облачность":n(715)};var G=B,Y={computed:{...(0,_.aH)(["weather"]),getTime(){return(new Date).toLocaleString("en-US",{timeZone:this.weather.timezone,timeStyle:"short",hourCycle:"h23"})},getDescription(){return this.weather.current.weather[0].description},getImg(){return G[this.getDescription]||G["пасмурно"]}}};const ee=(0,k.A)(Y,[["render",Z]]);var te=ee;const ne={class:"main__week"},re={class:"main__week_btns"},ae={key:0,class:"main__week_box_slide"};function ie(e,t,n,r,i,o){const s=(0,a.g2)("day");return(0,a.uX)(),(0,a.CE)("div",ne,[(0,a.Lk)("div",re,[(0,a.Lk)("button",{onClick:t[0]||(t[0]=e=>i.week=!0),class:"btn open"},"На неделю"),(0,a.Lk)("button",{onClick:t[1]||(t[1]=e=>i.week=!1),class:"btn close"},"Отменить")]),(0,a.Lk)("div",{class:(0,L.C4)(["main__week_box",{active:!i.week}])},[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.weather.daily.slice(1,3),((e,t)=>((0,a.uX)(),(0,a.Wv)(s,{key:t,day:e,index:t},null,8,["day","index"])))),128)),i.week?((0,a.uX)(),(0,a.CE)("div",ae,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(e.weather.daily.slice(3,8),((e,t)=>((0,a.uX)(),(0,a.Wv)(s,{key:t,day:e},null,8,["day"])))),128))])):(0,a.Q3)("",!0)],2)])}const oe={class:"main__week_box_item"},se={class:"main__week_box_item-title"},ce={class:"main__week_box_item-text"},le=["src"],ue={class:"main__week_box_item-title"},me={class:"main__week_box_item-text"},de={class:"main__week_box_item-text"};function pe(e,t,n,r,i,o){return(0,a.uX)(),(0,a.CE)("div",oe,[(0,a.Lk)("h2",se,(0,L.v_)(0==n.index?"Завтра":1==n.index?"послезавтра":o.getWeekDay),1),(0,a.Lk)("p",ce,(0,L.v_)(o.getDay)+" "+(0,L.v_)(o.getMonth),1),(0,a.Lk)("img",{src:o.getImg,alt:"",width:"48px",height:"48px"},null,8,le),(0,a.Lk)("p",ue,"+"+(0,L.v_)(Math.round(n.day.temp.max))+"°",1),(0,a.Lk)("p",me,"+"+(0,L.v_)(Math.round(n.day.feels_like.day))+"°",1),(0,a.Lk)("p",de,(0,L.v_)(o.description),1)])}function ge(e,t){const n=1e3*e,r=new Date(n),a="day"==t?r.toLocaleString("ru-RU",{day:"numeric"}):"weekDay"==t?r.toLocaleString("ru-RU",{weekday:"short"}):"month"==t?r.toLocaleString("ru-RU",{month:"short"}).replace(/\.$/,""):"";return a}var he=ge,_e={props:{day:{typeof:Object},index:{typeof:Number}},computed:{description(){return this.day.weather[0].description},getImg(){return G[this.description]||G["пасмурно"]},getDay(){return he(this.day.dt,"day")},getWeekDay(){return he(this.day.dt,"weekDay")},getMonth(){return he(this.day.dt,"month")}}};const ve=(0,k.A)(_e,[["render",pe]]);var ke=ve,ye={data(){return{week:!0}},components:{Day:ke},computed:{...(0,_.aH)(["weather"])}};const fe=(0,k.A)(ye,[["render",ie]]);var we=fe,be={components:{MainContent:te,MainWeek:we}};const Le=(0,k.A)(be,[["render",b]]);var xe=Le,Ce={components:{Navbar:f,Main:xe},methods:{...(0,_.i0)(["getWeather"])},computed:{...(0,_.aH)(["weather"])},created(){this.getWeather("Ташкент")}};const Ee=(0,k.A)(Ce,[["render",l]]);var Oe=Ee,Se=n(4373),We=(0,_.y$)({state:{apiKey:"ecd5fe14fa264025e942a9d27a1bf77a",weather:null},getters:{},mutations:{getWeather(e,t){e.weather=t}},actions:{async getWeather(e,t){try{let n=await Se.A.get(`http://api.openweathermap.org/geo/1.0/direct?q=${t}&appid=${e.state.apiKey}`);if(n.data.length){let{lat:t,lon:r,local_names:a}=n.data[0],i=await Se.A.get(`https://api.openweathermap.org/data/2.8/onecall?lat=${t}&lon=${r}&exclude=minutely,hourly,alerts&appid=${e.state.apiKey}&units=metric&lang=ru`),o={...i.data,name:a.ru};e.commit("getWeather",o)}else alert("Введите существующий город!")}catch(n){console.error(n)}}}});(0,r.Ef)(Oe).use(We).mount("#app")},761:function(e,t,n){e.exports=n.p+"img/big-sun.10b0fd02.svg"},2907:function(e,t,n){e.exports=n.p+"img/mainly_cloudy.714cdf6c.svg"},2016:function(e,t,n){e.exports=n.p+"img/rain.66b03987.svg"},7944:function(e,t,n){e.exports=n.p+"img/small_rain.aba71dd4.svg"},715:function(e,t,n){e.exports=n.p+"img/small_rain_sun.4143d707.svg"}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,i){if(!r){var o=1/0;for(u=0;u<e.length;u++){r=e[u][0],a=e[u][1],i=e[u][2];for(var s=!0,c=0;c<r.length;c++)(!1&i||o>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(s=!1,i<o&&(o=i));if(s){e.splice(u--,1);var l=a();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[r,a,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p="/weather/"}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,i,o=r[0],s=r[1],c=r[2],l=0;if(o.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)var u=c(n)}for(t&&t(r);l<o.length;l++)i=o[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},r=self["webpackChunkweather"]=self["webpackChunkweather"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[504],(function(){return n(7090)}));r=n.O(r)})();
//# sourceMappingURL=app.13a76f9c.js.map